<div ng-if="uiState.errorMessage" class="row">
    <div class="col-md-12">
        <alert type="danger" close="closeErrorMessageAlert()">{{uiState.errorMessage}}</alert>
    </div>
</div>

<div class="row">
    <div class="col-md-6 home-left-column">
        <div class="panel panel-default">
            <div class="panel-heading">Patients</div>

            <div class="panel-body">
                <sbx-grid
                    load-page="loadPatients(startIndex, count, orderByProperty, orderByDirection)"
                    page-size="10"
                    page-sizes="[5, 10, 20, 50, 100]"
                    object-actions="patientActions"
                    object-selected="patientSelected(object)"
                    callbacks="callbacks.patientsTable"
                    empty-message="No patients found">

                    <sbx-grid-column property="patientName['value']" title="Name">
                    </sbx-grid-column>

                    <sbx-grid-column property="patientID['value']" title="Id">
                    </sbx-grid-column>

                    <sbx-grid-column property="patientBirthDate['value']" title="Birth Date">
                    </sbx-grid-column>

                    <sbx-grid-column property="patientSex['value']" title="Sex">
                    </sbx-grid-column>
                </sbx-grid>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Studies</div>

            <div class="panel-body">
                <sbx-grid
                    load-page="loadStudies(startIndex, count, orderByProperty, orderByDirection)"
                    page-size="10"
                    page-sizes="[5, 10, 20, 50, 100]"
                    sorting="false"
                    object-actions="studyActions"
                    object-selected="studySelected(object)"
                    callbacks="callbacks.studiesTable"
                    empty-message="No studies found">

                    <sbx-grid-column property="studyDescription['value']" title="Description">
                    </sbx-grid-column>

                    <sbx-grid-column property="studyDate['value']" title="Date">
                    </sbx-grid-column>

                    <sbx-grid-column property="studyID['value']" title="Id">
                    </sbx-grid-column>

                    <sbx-grid-column property="accessionNumber['value']" title="Accession Number">
                    </sbx-grid-column>

                    <sbx-grid-column property="patientAge['value']" title="Patient Age">
                    </sbx-grid-column>
                </sbx-grid>
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Series</div>

            <div class="panel-body">
                <sbx-grid
                    load-page="loadSeries(startIndex, count, orderByProperty, orderByDirection)"
                    page-size="10"
                    page-sizes="[5, 10, 20, 50, 100]"
                    sorting="false"
                    object-actions="seriesActions"
                    object-selected="seriesSelected(object)"
                    callbacks="callbacks.seriesTable"
                    empty-message="No series found">

                    <sbx-grid-column property="seriesDescription['value']" title="Description">
                    </sbx-grid-column>

                    <sbx-grid-column property="seriesDate['value']" title="Date">
                    </sbx-grid-column>

                    <sbx-grid-column property="modality['value']" title="Modality">
                    </sbx-grid-column>

                    <sbx-grid-column property="protocolName['value']" title="Protocol Name">
                    </sbx-grid-column>

                    <sbx-grid-column property="bodyPartExamined['value']" title="Body Part Examined">
                    </sbx-grid-column>
                </sbx-grid>
            </div>
        </div>
    </div>

    <div class="col-md-6">
        <tabset>
            <tab heading="Image Files">
                <sbx-grid
                    load-page="loadImageFiles(startIndex, count, orderByProperty, orderByDirection)"
                    page-size="10000000"
                    sorting="false"
                    object-actions="fileImageActions"
                    callbacks="callbacks.imageFilesTable"
                    empty-message="No image files found">

                    <sbx-grid-column property="id" title="Id">
                    </sbx-grid-column>

                    <sbx-grid-column property="fileName['value']" title="File Name">
                    </sbx-grid-column>
                </sbx-grid>
            </tab>
            
            <tab heading="Images">Images</tab>
            <tab heading="DICOM Tags">Tags</tab>
        </tabset>
    </div>
</div>